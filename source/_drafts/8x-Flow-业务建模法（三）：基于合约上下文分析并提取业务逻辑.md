---
title: 8x Flow 业务建模法（三）：基于合约上下文分析并提取业务逻辑
abbrlink: eda54f7
categories:
  - 软件工程实践
tags:
  - 业务建模
  - 8x Flow
  - 业务逻辑
---

## 前言

在上一篇[《8x Flow 业务建模法（二）：再看什么是业务逻辑》](/posts/a7c771dd/)中，我们对于什么是业务逻辑进行了再一次的说明和澄清，在这里回顾一下业务逻辑的关键特征：

> - **业务逻辑关注的是如何盈利的特定运营流程，对外关注的是如何通过提供商品或服务盈利，对内关注的是如何控制成本结构和绩效。**
> - **业务流程即业务凭证的追溯过程，业务凭证不可变且不可抛弃。**
> - **在现实中，业务活动作为企业运营的一部分，客观存在且受到合同法的保护，业务逻辑即合同范围内甲乙双方权责的履约过程。**

同时我们也再一次强调了8x Flow与DDD相比在理论基础上的本质区别：

> 1. **业务逻辑具有天然的基于合约的法律约束，这一点是现实中的客观事实。领域逻辑则往往不涉及合同法的约束。**
> 2. **DDD未能清晰的认知到前述客观事实，其从战略设计到战术设计的过程的本质是“发散-收敛”的头脑风暴过程，业务逻辑不可见，业务与领域不分。**
> 3. **8x Flow能够识别并基于前述客观事实进行分析和建模，则具有更清晰的分析和认知边界，以及更强的针对性（8x Flow只用于业务建模和业务领域边界识别）。**

那么基于以上的业务逻辑相关知识，我们从本篇开始逐渐进入8x Flow的业务分析和建模方法介绍，本篇说的就是8x Flow的第一步：**基于合约上下文（Contract Context）分析并提取业务逻辑。**

<!-- more -->

## 什么是合约上下文？

### 概念回顾

基于**“业务逻辑即合同范围内甲乙双方权责的履约过程“**这一特征，我们在上一篇中给出过一个围绕从合约产生到履约过程的一个抽象模型，即`合约上下文（Contract Context）模型`：

> `Request for Proposal` → `Proposal` → `Contract` → `Fulfillment Request` → `Fulfillment Confirmation`

模型的图像关系如下：

![合约上下文模型](https://huhao-dev.oss-cn-beijing.aliyuncs.com/合约上下文模型-2021-04-04-16-54-59.png)

同时，我们也做过相应的解释：

> 1. 甲方先要进行`询价（Request for Proposal，简称RFP）`，然后乙方给出`报价（Proposal）`，随后双方根据报价方案签订`合约（Contract）`。
> 2. 合约签订之后，双方就会根据合约中的权责条款进行逐项`履约（Fulfillment）`。
> 3. 每次履约实际上分成了两类，一个是`履约申请（Fulfillment Request）`，一个是`履约确认（Fulfillment Confirmation）`，分别由甲乙双方的其中一方执行，其中履约申请是一个时间段，而履约确认是一个或多个时间点（因为履约总是需要个过程，不可能瞬间完成）。
> 4. 其中的`RFP、Proposal`、`Contract`、`Fulfillment Request`、`Fulfillment Confirmation`，都是`凭证（Evidence）`，所以是需要留存和可追溯的。

### 合约上都蕴含了什么信息？

## 分析并提取业务逻辑

### 案例举例

### 分析步骤

#### 提取权责信息

#### 提取第三方能力信息

#### 分析权责方

#### 分析对于业务的影响

#### 划分合约上下文

#### 补全关键权责

### 过程回顾

## 结尾

> **内容声明：**“8x Flow业务建模法”为ThoughtWorks中国区CTO——徐昊先生研究并设计的原创方法论，本系列相关文章的目的是对外宣传和推广，并得到了徐昊本人的许可。文章内容为作者的个人理解和补充，如有偏差，相关权威解释以徐昊为准。

## 参考资料

- [《8x Flow 业务建模法（一）：你能分清业务和领域吗？》](/posts/2932e594/)
- [《8x Flow 业务建模法（二）：再看什么是业务逻辑》](/posts/a7c771dd/)

## 欢迎关注我的个人公众号

微信搜索：`枪炮与代码`，或者搜索公众号ID：`guns_n_code`

![枪炮与玫瑰](https://huhao-dev.oss-cn-beijing.aliyuncs.com/2020-01-20-wechat.png)
